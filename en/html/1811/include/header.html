<div id="skipNavigation">
    <ul>
        <li><a href="#content">본문 바로가기</a></li>
        <li><a href="#gnb">주메뉴 바로가기</a></li>
    </ul>
</div>
<div class="outer">
    <div class="inner">
        <div class="h-top-area">
            <div class="h-srch">
                <div class="srch-input-wrap">
                    <button type="submit" class="srch-bt p-ver">검색</button>
                    <div class="srch-input-area">
                        <input type="text" placeholder="검색어를 입력하세요" class="srch-input">
                        <button type="button" class="srch-close">닫기</button>
                    </div>
                </div>
            </div>
            <h1 id="logo"><a href="./index.html?folder=main&file=main">현대상선</a></h1>
            <div class="h-date">
                <span class="year">2018</span>
                <span class="bar"></span>
                <span class="month pColor">11</span>
            </div>
        </div>
        <div class="h-bot-area">
            <div class="left-wrap">
                <ul class="h-sns-list">
                    <li class="sns-01"><a href=""><span></span></a></li>
                    <li class="sns-02"><a href=""><span></span></a></li>
                    <li class="sns-03"><a href="#recommend" class="pop-btn"><span></span></a></li>
                    <li class="sns-04" style="visibility: hidden;"><a href=""><span></span></a></li>
                </ul>
                <span class="scroll-logo"><a href="">현대상선</a></span>
            </div>
            <div class="m-srch-area">
                <button type="button" class="srch-bt"></button>
                <div class="srch-box">
                    <input type="text" placeholder="검색어를 입력하세요.">
                    <button type="button" class="close-bt"></button>
                </div>
            </div>
            <a href="" class="m-scroll-logo"><span>현대상선</span></a>
            <nav id="gnb" role="navigation">
                <h2 class="hidden-txt">주메뉴</h2>
                <ul class="depth01-lists">
                    <li class="depth01-list">
                        <a href="#" class="depth01">FOCUS</a>
                        <ul class="depth02-lists">
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>HMM Inside</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>What's New</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>HMM Today</span>]</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="depth01-list">
                        <a href="#" class="depth01">PEOPLE</a>
                        <ul class="depth02-lists">
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>After 6PM</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>Life Goes On</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>What’s Your Story</span>]</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="depth01-list">
                        <a href="#" class="depth01">COLUMN</a>
                        <ul class="depth02-lists">
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>Cultural Odyssey</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>Market Report</span>]</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="depth01-list">
                        <a href="#" class="depth01">FUN</a>
                        <ul class="depth02-lists">
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>TED</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>Hidden Catch</span>]</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="depth01-list">
                        <a href="#" class="depth01">NEWS</a>
                        <ul class="depth02-lists">
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>News</span>]</p>
                                </a>
                            </li>
                            <li class="depth02-list">
                                <a href="#" class="depth02">
                                    <p class="label">[<span>News2</span>]</p>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </nav>
            <div class="h-util">
                <a href="" class="compass-logo"><span>Korean Webzine</span></a>
                <div class="h-date">
                    <span class="year">2018</span>
                    <span class="bar"></span>
                    <span class="month pColor">11</span>
                </div>
                <button type="button" class="util-menu-btn pBackgroundColor"></button>
                <a class="menu-trigger" href="">
                    <span> </span>
                    <span> </span>
                    <span> </span>
                </a>
            </div>
            <div id="m_quick_open" class="m_quick_open">
                <ul>
                    <li class="m_quick_close"><button type="button"><img src="../../../images/layout/m_quick_close.png" /></button></li>
                    <li><a href=""><span class="txt"><span>PDF DOWNLOAD</span></span><img src="../../../images/layout/m_quick_01.png" /></a></li>
                    <li><a href=""><span class="txt">VIEW LAST ISSUE</span><img src="../../../images/layout/m_quick_02.png" /></a></li>
                    <li><a href=""><span class="txt">BOOK MARK</span><img src="../../../images/layout/m_quick_03.png" /></a></li>
                    <li><a href="#application" class="pop-btn"><span class="txt">SUBSCRIBE</span><img src="../../../images/layout/m_quick_04.png" /></a></li>
                </ul>
            </div>
            <div id="m_quick_open2" class="m_quick_open2">
                <ul>
                    <li><a href=""><span class="txt"><span>PDF DOWNLOAD</span></span><img src="../../../images/layout/m_quick_01.png" /></a></li>
                    <li><a href=""><span class="txt">VIEW LAST ISSUE</span><img src="../../../images/layout/m_quick_02.png" /></a></li>
                    <li><a href=""><span class="txt">BOOK MARK</span><img src="../../../images/layout/m_quick_03.png" /></a></li>
                    <li><a href="#application" class="pop-btn"><span class="txt">SUBSCRIBE</span><img src="../../../images/layout/m_quick_04.png" /></a></li>
                    <li class="m_quick_close"><button type="button"><img src="../../../images/layout/m_quick_close.png" /></button></li>
                </ul>
            </div>
        </div>
    </div>
</div>
<div id="siteMap" class="site-map">
    <div class="site-con">
        <dl>
            <dt><p>FOCUS</p></dt>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>HMM Inside</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>What's New</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>HMM Today</span>]</p></div>
                </a>
            </dd>
        </dl>
        <dl>
            <dt><p>PEOPLE</p></dt>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>After 6PM</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>Life Goes On</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>What’s Your Story</span>]</p></div>
                </a>
            </dd>
        </dl>
        <dl>
            <dt><p>COLUMN</p></dt>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>Cultural Odyssey</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>Market Report</span>]</p></div>
                </a>
            </dd>
        </dl>
        <dl>
            <dt><p>FUN</p></dt>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>TED</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>Hidden Catch</span>]</p></div>
                </a>
            </dd>
        </dl>
        <dl>
            <dt><p>NEWS</p></dt>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>News</span>]</p></div>
                </a>
            </dd>
            <dd>
                <a href="">
                    <div class="label"><p>[<span>News2</span>]</p></div>
                </a>
            </dd>
        </dl>
    </div>
</div>
<div id="mSiteMap" class="m-site-map">
    <button type="button" class="m-site-close"></button>
    <div class="site-con">
        <ul>
            <li>
                <button type="button"><p>FOCUS</p></button>
                <ul class="hidden-list">
                    <li><a href=""><span>[HMM Inside]</span></a></li>
                    <li><a href=""><span>[What's New]</span></a></li>
                    <li><a href=""><span>[HMM Today]</span></a></li>
                </ul>
            </li>
            <li>
                <button type="button"><p>PEOPLE</p></button>
                <ul class="hidden-list">
                    <li><a href=""><span>[After 6PM]</span></a></li>
                    <li><a href=""><span>[Life Goes On]</span></a></li>
                    <li><a href=""><span>[What’s Your Story]</span></a></li>
                </ul>
            </li>
            <li>
                <button type="button"><p>COLUMN</p></button>
                <ul class="hidden-list">
                    <li><a href=""><span>[Cultural Odyssey]</span></a></li>
                    <li><a href=""><span>[Market Report]</span></a></li>
                </ul>
            </li>
            <li>
                <button type="button"><p>FUN</p></button>
                <ul class="hidden-list">
                    <li><a href=""><span>[TED]</span></a></li>
                    <li><a href=""><span>[Hidden Catch]</span></a></li>
                </ul>
            </li>
            <li>
                <button type="button"><p>NEWS</p></button>
                <ul class="hidden-list">
                    <li><a href=""><span>[News]</span></a></li>
                    <li><a href=""><span>[News2]</span></a></li>
                </ul>
            </li>
        </ul>
        <div class="sns-list">
            <a href="" class="sns-01"></a>
            <a href="" class="sns-02"></a>
            <a href="" class="sns-03"></a>
            <a href="" class="sns-04" style="visibility: hidden;"></a>
        </div>
    </div>
</div>
<script>
    var es_step = "Expo.ease";
    var winHeight = $(window).height();
    var hHeight = $("#header").outerHeight();
    var $siteMap = $(".site-map");
    var $mSiteMap = $(".m-site-map");

    // 사이트맵 초기화
    $siteMap.css({
        height:winHeight - hHeight,
        top:-(winHeight - hHeight*2) - 2
    });

    $(".srch-bt.p-ver").on("click", function(){
        TweenMax.to( $(this), .3, {left:20, ease:es_step});
        if( $(window).width() >= 992 ){
            TweenMax.to( $(".srch-input-wrap"), .3, {width:330, ease:es_step, onComplete:function(){
                $(".srch-input-area").addClass("active");
            }});
        } else {
            TweenMax.to( $(".srch-input-wrap"), .3, {width:280, ease:es_step, onComplete:function(){
                $(".srch-input-area").addClass("active");
            }});
        }
    });
    $(".srch-close").on("click", function(){
        $(".srch-input-area").removeClass("active");
        TweenMax.to( $(".srch-bt"), .3, {left:0, ease:es_step});
        TweenMax.to( $(".srch-input-wrap"), .1, {width:0, ease:es_step});
    });

    $(".depth01-list").on("mouseenter", function(){
        $(this).addClass("active");
    });
    $(".depth01-list").on("mouseleave", function(){
        $(this).removeClass("active");
    });

    $siteMap.find("dl").on("mouseenter", function(){
        $(this).addClass("active");
    });
    $siteMap.find("dl").on("mouseleave", function(){
        $(this).removeClass("active");
    });

    $(window).scroll(function(){
        if ( $(window).width() >= 769 ){
            if ( $(window).scrollTop() > 90 ){
                $("#header").addClass("scroll");
                $("#content").addClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:-25, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:16, ease:es_step});
                TweenMax.to( $(".compass-logo"), .2, {top:-17, ease:es_step});
                TweenMax.to( $(".h-util .h-date"), .2, {top:3, ease:es_step});
            } else {
                $("#header").removeClass("scroll");
                $("#content").removeClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:9, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:42, ease:es_step});
                TweenMax.to( $(".compass-logo"), .2, {top:13, ease:es_step});
                TweenMax.to( $(".h-util .h-date"), .2, {top:40, ease:es_step});
            }
        } else {
            if ( $(window).scrollTop() > 50 ){
                $("#header").addClass("scroll");
                $("#content").addClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:-25, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:13, ease:es_step});
            } else {
                $("#header").removeClass("scroll");
                $("#content").removeClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:9, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:42, ease:es_step});
            }
        }
    })

    $(window).resize(function(){
        winHeight = $(window).height();
        if ( $(window).width() > 769 ){
            $(".m_quick_open").hide();
            $(".srch-box").removeClass("active");
            mSiteClose();
        }

        if ( $("#siteMap").hasClass("zIndex")){
            $("html").css({
                height: winHeight,
                overflow:"hidden"
            });
        }

        if ( $(window).width() < 992 ){
            if ($(".srch-input-area").hasClass("active")){
                $(".srch-input-wrap").css("width",280)
            }
        } else {
            if ($(".srch-input-area").hasClass("active")){
                $(".srch-input-wrap").css("width",330)
            }
        }

        if ( $(window).width() >= 769 ){
            if ( $(window).scrollTop() > 90 ){
                $("#header").addClass("scroll");
                $("#content").addClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:-25, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:13, ease:es_step});
                TweenMax.to( $(".compass-logo"), .2, {top:-17, ease:es_step});
                TweenMax.to( $(".h-util .h-date"), .2, {top:3, ease:es_step});
            } else {
                $("#header").removeClass("scroll");
                $("#content").removeClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:9, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:42, ease:es_step});
                TweenMax.to( $(".compass-logo"), .2, {top:13, ease:es_step});
                TweenMax.to( $(".h-util .h-date"), .2, {top:40, ease:es_step});
            }
        } else {
            $mSiteMap.css("height",winHeight);
            if ( $(window).scrollTop() > 50 ){
                $("#header").addClass("scroll");
                $("#content").addClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:-25, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:13, ease:es_step});
            } else {
                $("#header").removeClass("scroll");
                $("#content").removeClass("scroll");
                TweenMax.to( $(".h-sns-list"), .2, {top:9, ease:es_step});
                TweenMax.to( $(".scroll-logo"), .2, {top:42, ease:es_step});
            }

            $(".srch-bt.p-ver").on("click", function(){
                TweenMax.to( $(this), .3, {left:20, ease:es_step});
                TweenMax.to( $(".srch-input-wrap"), .3, {width:330, ease:es_step, onComplete:function(){
                    $(".srch-input-area").addClass("active");
                }});
            });

            $(".srch-input-area").removeClass("active");
            TweenMax.to( $(".srch-bt"), .3, {left:0, ease:es_step});
            TweenMax.to( $(".srch-input-wrap"), .1, {width:0, ease:es_step});

            $(".menu-trigger").removeClass("active").addClass("inactive");
            $siteMap.css({
                display: "none"
            })
            $("html").css({
                height: "auto",
                overflow:"visible"
            });
            allMenu = false;
        }
    })

    var allMenu = false;
    $(".menu-trigger").on("click", function(){
        winHeight = $(window).height();
        if ( $(window).width() >= 769 ){
            // PC 사이트맵 스크립트
            if ( $("header").hasClass("scroll") ){
                if ( allMenu === false ){
                    $(".menu-trigger").removeClass("inactive").addClass("active");
                    $siteMap.css({
                        top: 60,
                        display: "block",
                        height: winHeight
                    });
                    $siteMap.addClass("zIndex");
                    $("html").css({
                        height: winHeight,
                        overflow:"hidden"
                    });
                    allMenu = true;
                } else {
                    $(".menu-trigger").removeClass("active").addClass("inactive");
                    $siteMap.css({
                        display: "none"
                    })
                    $("html").css({
                        height: "auto",
                        overflow:"visible"
                    });
                    allMenu = false;
                }
            } else {
                if ( allMenu === false ){
                    $(".menu-trigger").removeClass("inactive").addClass("active");
                    $siteMap.css({
                        top: 141,
                        display: "block",
                        height: winHeight
                    });
                    $siteMap.addClass("zIndex");
                    $("html").css({
                        height: winHeight,
                        overflow:"hidden"
                    });
                    allMenu = true;
                } else {
                    $(".menu-trigger").removeClass("active").addClass("inactive");
                    $siteMap.css({
                        display: "none"
                    })
                    $("html").css({
                        height: "auto",
                        overflow:"visible"
                    });
                    allMenu = false;
                }
            }
        } else {
            // MO 사이트맵 스크립트
            $mSiteMap.css({
                display: "block",
                height: winHeight
            });
            if ( $("header").hasClass("scroll") ){
                $("html").css({
                    height: winHeight,
                    overflow:"hidden"
                });
            } else {
                $("header").addClass("top");
                $("html").css({
                    height: winHeight,
                    overflow:"hidden"
                });
            }
        }
        return false;
    })

    // 모바일 스크립트
    /* 서치 영역 */
    $(".m-srch-area .srch-bt").on("click", function(){
        $(".srch-box").addClass("active");
    });
    $(".m-srch-area .close-bt").on("click", function(){
        $(".srch-box").removeClass("active");
    });

    /* 유틸 영역 */
    $(".util-menu-btn").on("click", function(){
        $(".m_quick_open").css("display","block");
        $("html").css({
            height: winHeight,
            overflow:"hidden"
        });
    });
    $(".m_quick_close").on("click", function(){
        $(".m_quick_open").css("display","none");
        $(".m_quick_open2").css("display","none");
        $("html").css({
            height: "auto",
            overflow:"visible"
        });
    });
    $(".mo-util-bt").on("click", function(){
        $(".m_quick_open2").css("display","block");
        $("html").css({
            height: winHeight,
            overflow:"hidden"
        });
    });

    /* 전체메뉴 닫기 */
    $(".m-site-close").on("click", function(){
        mSiteClose();

        $(".site-con li").find("button").removeClass("active");
        $(".site-con li").find("ul").slideUp();

        if ( $("header").hasClass("top") ){
            $("html, body").animate({scrollTop:0},0);
            $("header").removeClass("top");
        }
    })

    function mSiteClose(){
        $mSiteMap.css("display","none");
        $("html").css({
            height: "auto",
            overflow:"visible"
        });
    }

    /* 모바일 전체메뉴 아코디언 */
    $(".site-con button").on("click", function(){
        var _this = $(this);
        if ( _this.hasClass("active") ){
            $(".site-con li").find("ul").slideUp();
            _this.removeClass("active");
        } else {
            _this.parents("li").siblings().find("button").removeClass("active");
            _this.parents("li").siblings().find("ul").slideUp();
            _this.siblings("ul").slideDown();
            _this.addClass("active");
        }
    })
</script>
